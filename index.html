<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SpaText</title>
  <link rel="icon" href="static/images/favicon.ico">
  <link rel="canonical" href="https://omriavrahami.com/spatext" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-C1EYR3P585"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-C1EYR3P585');
  </script>

  <!-- Meta tags -->
  <meta name="keywords"
    content="SpaText, Controllable Image Generation, Spatio-Textual Representation for Controllable Image Generation">
  <meta property="og:site_name" content="SpaText">
  <meta property="og:url" content="https://omriavrahami.com/spatext">
  <meta property="og:title" content="SpaText: Spatio-Textual Representation for Controllable Image Generation">
  <meta name="description" content="A new method for text-to-image generation using open-vocabulary scene control.">
  <meta property="og:description"
    content="A new method for text-to-image generation using open-vocabulary scene control.">

  <meta property="og:image" content="https://omriavrahami.com/spatext/static/images/teaser_1200_630.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

  <meta property="og:image" content="https://omriavrahami.com/spatext/static/images/teaser_300_300.png">
  <meta property="og:image:width" content="300">
  <meta property="og:image:height" content="300">

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" type="text/css" href="./static/slick/slick.css" />
  <link rel="stylesheet" type="text/css" href="./static/slick/slick-theme.css" />
  <link rel="stylesheet" href="./static/css/index.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script type="text/javascript" src="./static/slick/slick.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>

<body>
  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">SpaText: Spatio-Textual Representation for Controllable Image
              Generation</h1>
            <div class="is-size-5 publication-authors">
              <span class="author-block">
                <a href="https://omriavrahami.com">Omri Avrahami</a><sup>1,2</sup>,
              </span>
              <span class="author-block">
                <a href="https://www.linkedin.com/in/thomas-hayes-529008155">Thomas Hayes</a><sup>1</sup>,
              </span>
              <span class="author-block">
                <a href="https://ai.facebook.com/people/oran-gafni/">Oran Gafni</a><sup>1</sup>,
              </span>
              <span class="author-block">
                <a href="https://research.facebook.com/people/gupta-sonal/">Sonal Gupta</a><sup>1</sup>,
              </span>
              <span class="author-block">
                <a href="https://ytaigman.github.io/">Yaniv Taigman</a><sup>1</sup>,
              </span>
              <span class="author-block">
                <a href="https://faculty.cc.gatech.edu/~parikh/">Devi Parikh</a><sup>1</sup>,
              </span>
              <span class="author-block">
                <a href="https://www.cs.huji.ac.il/~danix/">Dani Lischinski</a><sup>2</sup>
              </span>
              <span class="author-block">
                <a href="https://www.ohadf.com/">Ohad Fried</a><sup>3</sup>,
              </span>
              <span class="author-block">
                <a href="https://xiyinmsu.github.io/">Xi Yin</a><sup>1</sup>,
              </span>
            </div>

            <div class="is-size-5 publication-authors">
              <span class="author-block"><sup>1</sup>Meta AI Research,</span>
              <span class="author-block"><sup>2</sup>The Hebrew University of Jerusalem,</span>
              <span class="author-block"><sup>3</sup>Reichman University</span>
            </div>

            <!-- <div>
              <p style="font-size:23px;font-weight:bold;padding-top: 5px;">CVPR 2022</p>
            </div> -->

            <div class="column has-text-centered">
              <div class="publication-links">
                <!-- PDF Link. -->
                <span class="link-block">
                  <a href="https://arxiv.org/abs/TODO" class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="ai ai-arxiv"></i>
                    </span>
                    <span>arXiv</span>
                  </a>
                </span>

                <!-- Video Link.
                <span class="link-block">
                  <a href="https://www.youtube.com/watch?v=MrKrnHhk8IA"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-youtube"></i>
                    </span>
                    <span>Video</span>
                  </a>
                </span> -->

                <!-- Code Link. -->
                <!-- <span class="link-block">
                  <a href="https://github.com/omriav/blended-latent-diffusion"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code</span>
                  </a>
                </span> -->

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="hero teaser">
    <div class="container is-max-desktop">
      <div class="hero-body">
        <div id="teaser" class="has-text-centered">
          <img style="width: 100%;" src="./static/images/teaser_1200_630.png" alt="Blended Latent Diffusion teaser.">
        </div>

        <h2 class="subtitle has-text-centered">
          <span class="method-name">SpaText</span> - new method for text-to-image generation using open-vocabulary scene
          control.
        </h2>
      </div>
    </div>
  </section>

  <!-- Abstract. -->
  <section class="section">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Abstract</h2>
          <div class="content has-text-justified">
            <p>
              Recent text-to-image diffusion models are able to generate convincing results of unprecedented quality.
              However, it is nearly impossible to control the shapes of different regions/objects or their layout in a
              fine-grained fashion. Previous attempts to provide such controls were hindered by their reliance on a
              fixed set of labels. To this end, we present SpaText - a new method for text-to-image generation using
              open-vocabulary scene control. In addition to a global text prompt that describes the entire scene, the
              user provides a segmentation map where each region of interest is annotated by a free-form natural
              language description. Due to lack of large-scale datasets that have a detailed textual description for
              each region in the image, we choose to leverage the current large-scale text-to-image datasets and base
              our approach on a novel CLIP-based spatio-textual representation, and show its effectiveness on two
              state-of-the-art diffusion models: pixel-based and latent-based. In addition, we show how to extend the
              classifier-free guidance method in diffusion models to the multi-conditional case and present an
              alternative accelerated inference algorithm. Finally, we offer several automatic evaluation metrics and
              use them, in addition to FID scores and a user study, to evaluate our method and show that it achieves
              state-of-the-art results on image generation with free-form textual scene control.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Method explanation -->
  <section class="section">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-12">
          <h2 class="title is-3">Method</h2>

          <div class="content has-text-justified">

            <p>
              We aim to provide the user with more fine-grained control over the generated image. In addition to a
              single <strong>global</strong> text prompt, the user will also provide a segmentation map, where the
              content of each segment of interest is described using a <strong>local</strong> free-form text prompt.
            </p>

            <p>
              However, current large-scale text-to-image datasets cannot be used for this task because they do not
              contain local text descriptions for each segment in the images. Hence, we need to develop a way to extract
              the objects in the image along with their textual description. To this end, we opt to use a pre-trained
              panoptic segmentation model along with a CLIP model.
            </p>

            <div class="container">
              <img src="./static/images/method.png" />
              <br />
            </div>

            <p>
              During training (left) - given a training image x, we extract K random segments, pre-process them
              and extract their CLIP image embeddings. Then we stack these embeddings in the same shapes of the segments
              to form the spatio-textual representation ST. During inference (right) - we embed the local prompts
              into the CLIP text embedding space, then convert them using the prior model P to the CLIP image
              embeddings space, lastly, we stack them in the same shapes of the inputs masks to form the spatio-textual
              representation ST.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- General Examples -->
  <section class="section">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-12">
          <h2 class="title is-3">Results</h2>
          <h3 class="title is-4">Examples</h3>
          <div class="content has-text-justified">
            <p>
              Samples of generated images from input text and our proposed spatio-textual representations. Each pair
              consists of an (i) input global text (top left, black), a spatio-textual representation describing each
              segment using free-form text prompts (left, colored text and sketches), and (ii) the corresponding
              generated image (right). (The colors are for illustration purposes only, and do not affect the actual
              inputs.)
            </p>
          </div>

          <section class="hero is-light is-small">
            <div class="hero-body">
              <div class="container">
                <div id="results-carousel" class="carousel results-carousel">

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"on a wooden table outdoors"</p>
                    <img src="./static/images/general_examples/little_prince_hat/vis.png" />
                    <p class="caption mask-a">"a brown hat"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"on a wooden table outdoors"</p>
                    <img src="./static/images/general_examples/little_prince_hat/pred_hat1.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"on a concrete floor"</p>
                    <img src="./static/images/general_examples/little_prince_hat/vis.png" />
                    <p class="caption mask-a">"an elephant"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"on a concrete floor"</p>
                    <img src="./static/images/general_examples/little_prince_hat/pred_elephant.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"at the beach"</p>
                    <img src="./static/images/general_examples/lion_read/vis.jpg" />
                    <p class="caption mask-a">"a lion"</p>
                    <p class="caption mask-b">"a book"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"at the beach"</p>
                    <img src="./static/images/general_examples/lion_read/pred3.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"at the desert"</p>
                    <img src="./static/images/qualitative_comparison/squirrel/vis.png" />
                    <p class="caption mask-a">"a squirrel"</p>
                    <p class="caption mask-b">"a sign with an apple painting"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"at the desert"</p>
                    <img src="./static/images/qualitative_comparison/squirrel/ours/2.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"on a snowy day"</p>
                    <img src="./static/images/general_examples/mouse_boxing/vis.png" />
                    <p class="caption mask-a">"a mouse"</p>
                    <p class="caption mask-b">"boxing gloves"</p>
                    <p class="caption mask-c">"a black punching bag"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"on a snowy day"</p>
                    <img src="./static/images/general_examples/mouse_boxing/pred_mouse2.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"a sunny day at the street"</p>
                    <img src="./static/images/general_examples/mouse_boxing/vis.png" />
                    <p class="caption mask-a">"a lemur"</p>
                    <p class="caption mask-b">"oranges"</p>
                    <p class="caption mask-c">"a soda can"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"a sunny day at the street"</p>
                    <img src="./static/images/general_examples/mouse_boxing/pred_lemur1.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"in the forest"</p>
                    <img src="./static/images/general_examples/cat_spread/vis.jpg" />
                    <p class="caption mask-a">"a black cat with a red sweater and a blue jeans"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">a</p>
                    <img src="./static/images/general_examples/cat_spread/pred.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"a sunny day near the Eiffel tower"</p>
                    <img src="./static/images/general_examples/labrador_hand_ball/vis.jpg" />
                    <p class="caption mask-a">"a white Labrador"</p>
                    <p class="caption mask-b">"a blue ball"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"a sunny day near the Eiffel tower"</p>
                    <img src="./static/images/general_examples/labrador_hand_ball/pred_eiffel.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"in the style of The Starry Night"</p>
                    <img src="./static/images/general_examples/horse_red_moon/vis.png" />
                    <p class="caption mask-a">"a black horse"</p>
                    <p class="caption mask-b">"a red full moon"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"a sunny day near the Eiffel tower"</p>
                    <img src="./static/images/general_examples/horse_red_moon/ours/1.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"on the moon"</p>
                    <img src="./static/images/general_examples/astronaut/vis.jpg" />
                    <p class="caption mask-a">"an astronaut"</p>
                    <p class="caption mask-b">"a horse"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"on the moon"</p>
                    <img src="./static/images/general_examples/astronaut/pred3.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"room with sunlight"</p>
                    <img src="./static/images/general_examples/table/vis.jpg" />
                    <p class="caption mask-a">"a wooden table"</p>
                    <p class="caption mask-b">"a red bowl"</p>
                    <p class="caption mask-c">"a picture on the wall"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"room with sunlight"</p>
                    <img src="./static/images/general_examples/table/pred.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"near a lake"</p>
                    <img src="./static/images/qualitative_comparison/elephant/vis.jpg" />
                    <p class="caption mask-a">"a black elephant"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"near a lake"</p>
                    <img src="./static/images/qualitative_comparison/elephant/ours/5.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"a painting"</p>
                    <img src="./static/images/qualitative_comparison/car_mountain/vis.png" />
                    <p class="caption mask-a">"a snowy mountain"</p>
                    <p class="caption mask-b">"a red car"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"a painting"</p>
                    <img src="./static/images/qualitative_comparison/car_mountain/ours/3.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"a sunny day after the snow"</p>
                    <img src="./static/images/qualitative_comparison/dogs/vis.png" />
                    <p class="caption mask-a">"a Husky dog"</p>
                    <p class="caption mask-b">"a German Shepherd dog"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"a sunny day after the snow"</p>
                    <img src="./static/images/qualitative_comparison/dogs/ours/4.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"on a table"</p>
                    <img src="./static/images/qualitative_comparison/mug_plate/vis.png" />
                    <p class="caption mask-a">"a mug"</p>
                    <p class="caption mask-b">"a white plate with cookies"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"on a table"</p>
                    <img src="./static/images/qualitative_comparison/mug_plate/ours/1.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"a bathroom with an artificial light"</p>
                    <img src="./static/images/qualitative_comparison/bathroom/vis.png" />
                    <p class="caption mask-a">"a mirror"</p>
                    <p class="caption mask-b">"a white sink"</p>
                    <p class="caption mask-c">"a vase with red flowers"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"a bathroom with an artificial light"</p>
                    <img src="./static/images/qualitative_comparison/bathroom/ours/1.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"near a river"</p>
                    <img src="./static/images/qualitative_comparison/bear_avocado/vis.png" />
                    <p class="caption mask-a">"a grizzly bear"</p>
                    <p class="caption mask-b">"a huge avocado"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"near a river"</p>
                    <img src="./static/images/qualitative_comparison/bear_avocado/ours/3.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"next to a wooden house"</p>
                    <img src="./static/images/general_examples/monkey_stick/vis.png" />
                    <p class="caption mask-a">"a chimpanzee"</p>
                    <p class="caption mask-b">"a red wooden stick"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"next to a wooden house"</p>
                    <img src="./static/images/general_examples/monkey_stick/pred_chimp.png" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"indoors"</p>
                    <img src="./static/images/general_examples/monkey_stick/vis.png" />
                    <p class="caption mask-a">"a glass tea pot"</p>
                    <p class="caption mask-b">"a golden straw"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"indoors"</p>
                    <img src="./static/images/general_examples/monkey_stick/pred_tea_pot.png" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"on a grass"</p>
                    <img src="./static/images/general_examples/mushroom/vis.png" />
                    <p class="caption mask-a">"an Amanita mushroom"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"on a grass"</p>
                    <img src="./static/images/general_examples/mushroom/pred_mushroom2.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"a black and white photo in the desert"</p>
                    <img src="./static/images/general_examples/mushroom/vis.png" />
                    <p class="caption mask-a">"a nuclear explosion"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"a black and white photo in the desert"</p>
                    <img src="./static/images/general_examples/mushroom/pred_atomic2.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"a portrait photo"</p>
                    <img src="./static/images/general_examples/rabbit_head/vis.png" />
                    <p class="caption mask-a">"a rabbit"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"a portrait photo"</p>
                    <img src="./static/images/general_examples/rabbit_head/pred_rabbit1.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"a portrait photo"</p>
                    <img src="./static/images/general_examples/rabbit_head/vis.png" />
                    <p class="caption mask-a">"a duck"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"a duck"</p>
                    <img src="./static/images/general_examples/rabbit_head/pred_duck1.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"under the sun"</p>
                    <img src="./static/images/general_examples/butterfly/vis.png" />
                    <p class="caption mask-a">"a blue butterfly"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"under the sun"</p>
                    <img src="./static/images/general_examples/butterfly/pred_burtterfly2.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"inside a lake"</p>
                    <img src="./static/images/general_examples/butterfly/vis.png" />
                    <p class="caption mask-a">"an elephant"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"under the sun"</p>
                    <img src="./static/images/general_examples/butterfly/pred_elephant1.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"an oil painting"</p>
                    <img src="./static/images/general_examples/horses_oil_painting/vis.jpg" />
                    <p class="caption mask-a">"a black horse"</p>
                    <p class="caption mask-b">"a white horse"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"an oil painting"</p>
                    <img src="./static/images/general_examples/horses_oil_painting/pred.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"in the snow"</p>
                    <img src="./static/images/general_examples/horses_oil_painting/vis.jpg" />
                    <p class="caption mask-a">"a white horse"</p>
                    <p class="caption mask-b">"a brown horse"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"an oil painting"</p>
                    <img src="./static/images/general_examples/horses_snow/pred1.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"a photo taken during the golden hour"</p>
                    <img src="./static/images/general_examples/cat_mountain/vis.png" />
                    <p class="caption mask-a">"a snowy mountain"</p>
                    <p class="caption mask-b">"a black cat"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"a photo taken during the golden hour"</p>
                    <img src="./static/images/general_examples/cat_mountain/pred1.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"a sunny day at the beach"</p>
                    <img src="./static/images/general_examples/cat_mountain/vis.png" />
                    <p class="caption mask-a">"a colorful beach umbrella"</p>
                    <p class="caption mask-b">"a ginger cat"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"a sunny day at the beach"</p>
                    <img src="./static/images/general_examples/cat_umbrella/pred1.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"near some ruins"</p>
                    <img src="./static/images/general_examples/parrot_red_hat/vis.png" />
                    <p class="caption mask-a">"a colorful parrot"</p>
                    <p class="caption mask-b">"a straw hat"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"near some ruins"</p>
                    <img src="./static/images/general_examples/parrot_straw_hat/pred.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"at the desert"</p>
                    <img src="./static/images/general_examples/parrot_red_hat/vis.png" />
                    <p class="caption mask-a">"a green parrot"</p>
                    <p class="caption mask-b">"a red hat"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"at the desert"</p>
                    <img src="./static/images/general_examples/parrot_red_hat/pred1.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"sitting on a wooden floor"</p>
                    <img src="./static/images/general_examples/teddy_bears_wooden/vis.png" />
                    <p class="caption mask-a">"a gray teddy bear"</p>
                    <p class="caption mask-b">"a brown teddy bear"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"sitting on a wooden floor"</p>
                    <img src="./static/images/general_examples/teddy_bears_wooden/pred2.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"in the street"</p>
                    <img src="./static/images/general_examples/teddy_bears_wooden/vis.png" />
                    <p class="caption mask-a">"a brown teddy bear"</p>
                    <p class="caption mask-b">"a gray teddy bear"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"in the street"</p>
                    <img src="./static/images/general_examples/teddy_bears_street/pred3.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"a night with the city in the background"</p>
                    <img src="./static/images/general_examples/car_moon/vis.png" />
                    <p class="caption mask-a">"a white car"</p>
                    <p class="caption mask-b">"a big full moon"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"a night with the city in the background"</p>
                    <img src="./static/images/general_examples/car_moon/pred_white2.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"in a sunny day near near the forest"</p>
                    <img src="./static/images/general_examples/car_moon/vis.png" />
                    <p class="caption mask-a">"a blue car"</p>
                    <p class="caption mask-b">"a red balloon"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"in a sunny day near near the forest"</p>
                    <img src="./static/images/general_examples/car_moon/pred_blue1.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"in an empty room"</p>
                    <img src="./static/images/general_examples/robot_painting/vis.png" />
                    <p class="caption mask-a">"a canvas with a painting of a Corgi dog"</p>
                    <p class="caption mask-b">"a metallic yellow robot"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"in an empty room"</p>
                    <img src="./static/images/general_examples/robot_painting/pred.jpg" />
                  </div>

                  <div class="item has-text-centered">
                    <p class="caption global-prompt">"day outdoors"</p>
                    <img src="./static/images/general_examples/robot_painting/vis.png" />
                    <p class="caption mask-a">"a canvas with math equations"</p>
                    <p class="caption mask-b">"a wooden robot"</p>
                  </div>
                  <div class="item has-text-centered">
                    <p class="caption" style="visibility: hidden;">"day outdoors"</p>
                    <img src="./static/images/general_examples/robot_math/pred2.jpg" />
                  </div>

                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
  </section>

  <!-- Mask Sensitivity -->
  <section class="section">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-12">
          <h3 class="title is-4">Mask Sensitivity</h3>
          <div class="content has-text-justified">
            <p>
              During our experiments, we noticed that the model generates images that correspond to the implicit masks
              in the spatio-textual representation, but not <i>perfectly</i>. Nevertheless, we argue that this
              characteristic can be beneficial. For example, given a general animal shape mask (first image), the model
              is able to generate a diverse set of results driven by the different local prompts. It changes the body
              type according to the local prompt, while leaving the overall posture of the character intact.
            </p>

            <section class="hero is-light is-small">
              <div class="hero-body">
                <div class="container">
                  <div id="results-carousel" class="carousel results-carousel">
                    <div class="item has-text-centered">
                      <p class="caption global-prompt">"a sunny day outdoors"</p>
                      <img src="./static/images/mask_insensitivity/cat/vis.jpg" />
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/white_cat.jpg" />
                      <p class="caption mask-a">"a white cat"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/shiba_inu.jpg" />
                      <p class="caption mask-a">"a Shiba Inu dog"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/goat.jpg" />
                      <p class="caption mask-a">"a goat"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/pig.jpg" />
                      <p class="caption mask-a">"a pig"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/rabbit.jpg" />
                      <p class="caption mask-a">"a black rabbit"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/donkey.jpg" />
                      <p class="caption mask-a">"a gray donkey"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/panda.jpg" />
                      <p class="caption mask-a">"a panda bear"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/gorilla.jpg" />
                      <p class="caption mask-a">"a gorilla"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/toad.jpg" />
                      <p class="caption mask-a">"a toad"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/cow.jpg" />
                      <p class="caption mask-a">"a cow"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/statue_of_liberty.jpg" />
                      <p class="caption mask-a">"The Statue of Liberty"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/golden_calf.jpg" />
                      <p class="caption mask-a">"a golden calf"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/shark.jpg" />
                      <p class="caption mask-a">"a shark"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/cactus.jpg" />
                      <p class="caption mask-a">"a cactus"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">a sunny day outdoors</p>
                      <img src="./static/images//mask_insensitivity/cat/tortoise.jpg" />
                      <p class="caption mask-a">"a tortoise"</p>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <br />
            <p>
              We also demonstrate this characteristic on a <a
                href="https://en.wikipedia.org/wiki/Rorschach_test">Rorschach test</a> mask: Given a general Rorschach
              mask (first image), the model is able to generate a diverse set of results driven by the different local
              prompts. It changes fine-details according to the local prompt, while leaving the overall general shape
              intact.
            </p>

            <section class="hero is-light is-small">
              <div class="hero-body">
                <div class="container">
                  <div id="results-carousel" class="carousel results-carousel">
                    <div class="item has-text-centered">
                      <p class="caption global-prompt">"a painting"</p>
                      <img src="./static/images/mask_insensitivity/rorschach/vis.png" />
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/bat.jpg" />
                      <p class="caption mask-a">"a bat"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/butterfly.jpg" />
                      <p class="caption mask-a">"a colorful butterfly"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/moth.jpg" />
                      <p class="caption mask-a">"a moth"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/two_birds.jpg" />
                      <p class="caption mask-a">"two birds facing away from each other"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/dragon.jpg" />
                      <p class="caption mask-a">"a dragon"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/mythical_creatures.jpg" />
                      <p class="caption mask-a">"mythical creatures"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/two_dogs.jpg" />
                      <p class="caption mask-a">"two dogs"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/crab.jpg" />
                      <p class="caption mask-a">"a crab"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/evil_pig.jpg" />
                      <p class="caption mask-a">"an evil pig"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/flying_angel.jpg" />
                      <p class="caption mask-a">"a flying angel"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/owl.jpg" />
                      <p class="caption mask-a">"an owl"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/bee.jpg" />
                      <p class="caption mask-a">"a bee"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/cannabis_leaf.jpg" />
                      <p class="caption mask-a">"a cannabis leaf"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/two_flamingos.jpg" />
                      <p class="caption mask-a">"two flamingos"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/avocado.jpg" />
                      <p class="caption mask-a">"an avocado"</p>
                    </div>
                    <div class="item has-text-centered">
                      <p class="caption" style="visibility: hidden;">"a painting"</p>
                      <img src="./static/images//mask_insensitivity/rorschach/two_clowns.jpg" />
                      <p class="caption mask-a">"two clowns"</p>
                    </div>
                  </div>
                </div>
              </div>
            </section>

          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Multi-Scale Control -->
  <section class="section">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-12">
          <h3 class="title is-4">Multi-Scale Control</h3>
          <div class="content has-text-justified">
            <p>
              The extension of <a href="https://arxiv.org/abs/2207.12598">classifier-free guidance</a> to the
              multi-conditional case allows fine-grained control over the input conditions. Given the same inputs
              (left), we can use different scales for each condition. In the following example, if we put all the weight
              on the local scene (1), the generated image contains a horse with the correct color and posture, but not
              at the beach. Conversely, if we place all the weight on the global text (5), we get an image of a beach
              with no horse in it. The in-between results correspond to a mix of conditions - in (4) we get a gray
              donkey, in (2) the beach contains no water, and in (3) we get a brown horse at the beach on a sunny day.
            </p>

            <img style="width: 100%;" src="./static/images/multiscale/horse.png">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <h2 class="title">BibTeX</h2>
      <p>If you find this research useful, please cite the following:</p>

      <pre><code>@article{avrahami2022blended_latent,
        title={Blended Latent Diffusion},
        author={Avrahami, Omri and Fried, Ohad and Lischinski, Dani},
        journal={arXiv preprint arXiv:2206.02779},
        year={2022}
}</code></pre>
    </div>
  </section> -->

  <footer class="footer">
    <div class="container">
      <div class="content has-text-centered">
        <a class="icon-link" href="https://arxiv.org/abs/TODO">
          <i class="fas fa-file-pdf"></i>
        </a>
        <!-- <a class="icon-link" href="https://github.com/omriav/blended-latent-diffusion" class="external-link" disabled>
          <i class="fab fa-github"></i>
        </a> -->
      </div>
      <div class="columns is-centered">
        <div class="column is-8">
          <div class="content">
            <p>
              Was adapted from <a href="https://github.com/nerfies/nerfies.github.io">this</a> source code.
            </p>
          </div>
        </div>
      </div>
    </div>
  </footer>

</body>

</html>